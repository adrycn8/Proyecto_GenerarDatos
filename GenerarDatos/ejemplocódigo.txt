import java.io.*;
import java.util.*;

public class SalesReportGenerator {

    public static void main(String[] args) {
        try {
            // Leer los archivos de entrada
            Scanner docScanner = new Scanner(new File("documento_vendedores.txt"));
            Scanner namesScanner = new Scanner(new File("nombres_vendedores.txt"));
            Scanner productsScanner = new Scanner(new File("productos.txt"));

            // Crear un mapa para almacenar los datos de los vendedores
            Map<String, Double> vendedores = new HashMap<>();

            // Leer los datos de los archivos
            while (docScanner.hasNextLine() && namesScanner.hasNextLine() && productsScanner.hasNextLine()) {
                String doc = docScanner.nextLine();
                String nombre = namesScanner.nextLine();
                String[] productoInfo = productsScanner.nextLine().split(" ");
                String productoId = productoInfo[0];
                double valorPorUnidad = Double.parseDouble(productoInfo[1]);
                int cantidadVendida = Integer.parseInt(productoInfo[2]);

                // Calcular el monto total recaudado por el producto
                double montoTotal = valorPorUnidad * cantidadVendida;

                // Actualizar el monto total recaudado por el vendedor
                vendedores.put(nombre, vendedores.getOrDefault(nombre, 0.0) + montoTotal);
            }

            // Ordenar los vendedores por monto total recaudado (de mayor a menor)
            List<Map.Entry<String, Double>> sortedVendedores = new ArrayList<>(vendedores.entrySet());
            sortedVendedores.sort((a, b) -> Double.compare(b.getValue(), a.getValue()));

            // Generar el informe
            for (Map.Entry<String, Double> entry : sortedVendedores) {
                System.out.println(entry.getKey() + ";" + entry.getValue());
            }

            // Cerrar los scanners
            docScanner.close();
            namesScanner.close();
            productsScanner.close();
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        }
    }
}
